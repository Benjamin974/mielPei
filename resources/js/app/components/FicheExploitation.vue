<template>
	<div class="text-center px-10">
		<v-bottom-sheet v-model="sheet" inset>
			<template v-slot:activator="{ on, attrs }">
				<v-btn
					color="orange lighten-4"
					v-bind="attrs"
					v-on="on"
					@click="getProducts(exploiTation.user.id)"
				>
					Fiche detail
				</v-btn>
			</template>
			<v-sheet class="text-center pb-5 pt-5" height="auto">
				<v-btn class="mt-6" text color="error" @click="sheet = !sheet">
					close
				</v-btn>
				<div class="py-3">{{ exploiTation.name }}</div>
				<v-card elevation='0' class="mx-auto" max-width="500">
					<v-toolbar elevation="0">
						<v-toolbar-title
							>Producteur : {{ exploiTation.user.name }}</v-toolbar-title
						>

						<v-spacer></v-spacer>

						<v-btn icon>
							<v-icon>mdi-magnify</v-icon>
						</v-btn>
					</v-toolbar>

					<v-container fluid>
						<v-data-iterator
							:items="products"
							:items-per-page.sync="itemsPerPage"
							:page="page"
							hide-default-footer
						>
							<template v-slot:default="props">
								<v-row>
									<v-col v-for="item in props.items" :key="item.name" cols="6">
										<v-card>
											<v-img
												:src="item.image"
												class="white--text align-end"
												gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
												height="200px"
											>
												<v-card-title v-text="item.name"></v-card-title>
											</v-img>

											<v-card-actions>

												<v-card-text> prix: {{ item.prix }} </v-card-text>


												<v-card-text> Dispo : {{item.quantite}}</v-card-text>
											</v-card-actions>
										</v-card>
									</v-col>
								</v-row>
							</template>

							<template v-slot:footer>
								<v-row class="mt-2 pa-5" align="center" justify="center">
									<v-btn fab class="mr-1" @click="formerPage">
										<v-icon>mdi-chevron-left</v-icon>
									</v-btn>
									<v-btn fab class="ml-1" @click="nextPage">
										<v-icon>mdi-chevron-right</v-icon>
									</v-btn>
								</v-row>
							</template>
						</v-data-iterator>
					</v-container>
				</v-card>
			</v-sheet>
		</v-bottom-sheet>
	</div>
</template>
<script src="./ficheExploitation.js" />